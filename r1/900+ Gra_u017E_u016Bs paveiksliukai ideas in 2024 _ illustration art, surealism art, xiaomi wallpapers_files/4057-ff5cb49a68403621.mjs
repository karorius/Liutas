"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4057],{406893:(e,t,n)=>{n.d(t,{Z:()=>a}),n(441143);var r=n(785893);class i{static factory(e){return e instanceof i?e:new i(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function a(e){let{css:t,unsafeCSS:n,...a}=e,s=String(t||"")||n||"",o=!!s;return o?(0,r.jsx)("style",{...a,dangerouslySetInnerHTML:{__html:String(i.factory(s))}}):null}},587703:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(214877);let i=()=>(0,r.v)().logContextEvent},541841:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(667294),i=n(973935);function a(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends r.Component{constructor(...e){super(...e),a(this,"observer",null),a(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){let e=i.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return r.Children.only(this.props.children)}}let o=s},775089:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var r=n(667294),i=n(883119),a=n(214877),s=n(103322);function o(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l={};function u(e){let t=l[e];return t&&t.screenWidth===window.innerWidth||(l[e]={screenWidth:window.innerWidth}),l[e]}let c=e=>{let t=e.__id||e.id;return"string"==typeof t&&t||null};class p{constructor(){o(this,"idMap",new Map),o(this,"objMap",new WeakMap)}get(e){let t=c(e);return this.objMap.get(e)??(t?this.idMap.get(t):void 0)}has(e){let t=c(e);return this.objMap.has(e)??(!!t&&this.idMap.has(t))}set(e,t){let n=c(e);n&&this.idMap.set(n,t),this.objMap.set(e,t)}reset(){this.idMap=new Map,this.objMap=new WeakMap}}var d=n(547643),m=n(213377),h=n(406893),f=n(340523),g=n(5859),y=n(554786),b=n(953565),v=n(84768),x=n(785893);function w({analyticsData:e,children:t,idx:n,isMeasuring:i,masonryV2ExpName:a,masonryV2ExpGroup:o}){let l=(0,y.ZP)(),{isAuthenticated:u}=(0,g.B)(),c=(0,v.MM)();return(0,r.useEffect)(()=>{let t=e.current[n];if(t){let{fetchTimestamp:t,measureTimestamp:r,hasRendered:s,pageCount:p}=e.current[n]??{},d={deviceType:l,experimentName:a,experimentGroup:o,handlerId:c,isAuthenticated:u,pageCount:p};i&&!r&&(e.current[n].measureTimestamp=Date.now(),(0,b.LY)("webapp.masonry.itemMeasureStart",Date.now()-t,{tags:d})),i||s||((0,b.LY)("webapp.masonry.itemRenderStart",Date.now()-r,{tags:d}),e.current[n].hasRendered=!0)}},[i]),(0,x.jsx)(s.Z,{name:"MasonryItem",children:t})}function C(e){let{align:t,cacheKey:n,experimentalTwoColItems:o,id:l,isGridCentered:c=!0,items:C,layout:S,loadItems:_,masonryRef:j,renderItem:$,scrollContainerRef:P,virtualize:M=!0}=e,E=(0,y.ZP)(),{isAuthenticated:D,isRTL:I}=(0,g.B)(),{logContextEvent:Z}=(0,a.v)(),R=(0,f.F)(),T="desktop"===E,W=(0,v.MM)(),L=(0,r.useRef)(C.map(()=>({fetchTimestamp:Date.now(),measureTimestamp:Date.now(),hasRendered:!1,pageCount:0}))),k=e.columnWidth??m.yF,N=e.gutterWidth??(T?m.oX:1),O=e.minCols??m.yc,U=e.serverRender??!!T,A="flexible"===S||"desktop"!==E,F=U?"serverRenderedFlexible":"flexible",V=(0,r.useRef)(0),B=k+N,H=function(e){if(null==e)return;let t=u(e);return t.positionCache||(t.positionCache=new p),t.positionCache}(n),G=function(e){if(null==e)return;let t=u(e);return t.measurementCache||(t.measurementCache=new p),t.measurementCache}(n),z=(0,r.useCallback)(()=>P?.current||window,[P]),Y=(0,r.useRef)(!0),J=C.map((e,t)=>({index:t,columnSpan:e.columnSpan??1})).filter(e=>e.columnSpan>1),{anyEnabled:K}=R.checkExperiment("web_masonry_ssr_container_query"),Q=c&&Y.current?"gridCentered":"",{className:X,styles:q}=function(e){let t=`m_${Object.keys(e).reduce((t,n)=>{let r=e[n];return null==r||"object"==typeof r?t:"boolean"==typeof r?t+(r?"t":"f"):t+r},"").replace(/\:/g,"\\:")}`,{flexible:n,gutterWidth:r,isRTL:i,itemWidth:a,maxColumns:s,minColumns:o,multiColumnItems:l}=e,u=a+r,c=Array.from({length:s+1-o},(e,t)=>t+o),p=c.map(e=>{let c=e===o?0:e*u,{styles:p,numberOfVisibleItems:d}=l.reduce((i,s)=>{let o=Math.min(s.columnSpan,e),l=null!=s.index&&i.numberOfVisibleItems>=o+s.index,u=n?100/e*o:a*o+r*(o-1),{numberOfVisibleItems:c}=i;return l?c-=o-1:s.index<c&&(c+=1),{styles:i.styles.concat(function({className:e,index:t,columnSpan:n,visible:r,width:i,flexible:a}){return a?`
      .${e} .static[data-column-span="${n}"]:nth-child(${t+1}) {
        visibility: ${r?"visible":"hidden"} !important;
        position: ${r?"inherit":"absolute"} !important;
        width: ${i}% !important;
      }`:`
      .${e} .static[data-column-span="${n}"]:nth-child(${t+1}) {
        visibility: ${r?"visible":"hidden"} !important;
        position: ${r?"inherit":"absolute"} !important;
        width: ${i}px !important;
      }`}({className:t,index:s.index,columnSpan:s.columnSpan,visible:l,width:u,flexible:n})),numberOfVisibleItems:c}},{styles:"",numberOfVisibleItems:e}),m=n?`
      .${t} .static {
        box-sizing: border-box;
        width: calc(100% / ${e}) !important;
      }
    `:`
      .${t} {
        max-width: ${e*u}px;
      }

      .${t} .static {
        width: ${a}px !important;
      }
    `,h=`
      .${t} .static:nth-child(-n+${d}) {
        position: static !important;
        visibility: visible !important;
        float: ${i?"right":"left"};
        display: block;
      }

      .${t} .static {
        padding: 0 ${r/2}px;
      }

      ${m}

      ${p}
    `;return{minWidth:c,maxWidth:e===s?null:(e+1)*u-1,styles:h}}),d=p.map(({minWidth:e,maxWidth:t,styles:n})=>`
    @container (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${n}
    }
  `),m=p.map(({minWidth:e,maxWidth:t,styles:n})=>`
    @media (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${n}
    }
  `),h=e.enableContainerQuery?`
    ${d.join("")}
    @supports not (container-type: inline-size) {
      ${m.join("")}
    }
  `:m.join("");return{className:t,styles:`
    .masonryContainer {
      container-type: inline-size;
    }

    .gridCentered {
      margin-left: auto;
      margin-right: auto;
    }

    .${t} .static {
      position: absolute !important;
      visibility: hidden !important;
    }

    ${h}
  `}}({gutterWidth:N,flexible:A,isRTL:I,itemWidth:k,maxColumns:e.maxColumns??(C.length||m.g5),minColumns:O,multiColumnItems:J,enableContainerQuery:K}),ee=`${Q} ${X}`.trim(),{anyEnabled:et,expName:en,group:er,isMeasureAllEnabled:ei}=(0,d.Z)(),ea=(0,r.useRef)(!G||C.every(e=>!G.has(e))),es=er&&ea.current,eo=(0,r.useRef)(),el=(0,r.useRef)(C.length),eu=(0,r.useRef)(0);(0,r.useEffect)(()=>{es&&C.forEach((e,t)=>{L.current[t]||(L.current[t]={fetchTimestamp:Date.now(),measureTimestamp:0,hasRendered:!1,pageCount:eu.current})}),el.current=C.length,eu.current+=1},[C]),(0,r.useEffect)(()=>{Y.current&&(Y.current=!1)},[]),(0,r.useEffect)(()=>{let e=()=>V.current+=1;return es&&(eo.current=Date.now(),window.addEventListener("scroll",e)),()=>{if(es){let t=L.current;window.removeEventListener("scroll",e);let n=t.filter(e=>!!e.measureTimestamp).length,r=t.filter(e=>e.hasRendered).length,i=el.current,a={deviceType:E,experimentName:en,experimentGroup:er,handlerId:W,isAuthenticated:D};(0,b.LY)("webapp.masonry.timeSpent",eo.current?Date.now()-eo.current:0,{tags:a}),(0,b.S0)("webapp.masonry.itemsFetched",i,{tags:a}),(0,b.S0)("webapp.masonry.itemsMeasured",n,{tags:a}),(0,b.S0)("webapp.masonry.itemsMeasuredPercentage",Math.floor(n/i*100),{tags:a}),(0,b.S0)("webapp.masonry.itemsRendered",r,{tags:a}),(0,b.S0)("webapp.masonry.itemsRenderedPercentage",Math.floor(r/i*100),{tags:a}),(0,b.S0)("webapp.masonry.scrollCount",V.current,{tags:a})}}},[]);let ec=(0,r.useCallback)(e=>es?(0,x.jsx)(w,{analyticsData:L,idx:e.itemIdx,isMeasuring:e.isMeasuring,masonryV2ExpGroup:er,masonryV2ExpName:en,children:(0,x.jsx)(s.Z,{name:"MasonryItem",children:$(e)})}):(0,x.jsx)(s.Z,{name:"MasonryItem",children:$(e)}),[$]);return(0,x.jsx)("div",{className:"masonryContainer","data-test-id":"masonry-container",id:l,children:(0,x.jsxs)("div",{className:ee,children:[U&&Y.current?(0,x.jsx)(h.Z,{"data-test-id":"masonry-ssr-styles",unsafeCSS:q}):null,(0,x.jsx)(i.xu,{"data-test-id":"max-width-container",marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,maxWidth:e.maxColumns?B*e.maxColumns:void 0,children:et?(0,x.jsx)(i.GX,{ref:e=>{j&&(j.current=e)},_logTwoColWhitespace:e=>{(0,b.S0)("webapp.masonry.twoColWhitespace",e,{sampleRate:1,tags:{columnWidth:k,minCols:O}}),Z({event_type:14705,component:14468,aux_data:{whitespace_px:e}})},_measureAll:ei,_twoColItems:o,align:t,columnWidth:k,gutterWidth:N,items:C,layout:A?F:S??"basic",loadItems:_,measurementStore:G,minCols:O,positionStore:H,renderItem:ec,scrollContainer:z,virtualBufferFactor:.3,virtualize:M}):(0,x.jsx)(i.Rk,{ref:e=>{j&&(j.current=e)},_logTwoColWhitespace:e=>{(0,b.S0)("webapp.masonry.twoColWhitespace",e,{sampleRate:1,tags:{columnWidth:k,minCols:O}}),Z({event_type:14705,component:14468,aux_data:{whitespace_px:e}})},_twoColItems:o,align:t,columnWidth:k,gutterWidth:N,items:C,layout:A?F:S??"basic",loadItems:_,measurementStore:G,minCols:O,positionStore:H,renderItem:ec,scrollContainer:z,virtualBufferFactor:.3,virtualize:M})})]})})}},339001:(e,t,n)=>{n.d(t,{Wc:()=>l,bF:()=>c,nk:()=>o,r7:()=>p});var r=n(667294),i=n(785893);function a(e,t,n){return e.split(n).map(e=>{if(e.match(n)){let n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e})}let s=/(\{\{\s*\w+\s*\}\})/g;function o(e,t){return a(e,t,s)}function l(e,t){return a(e,t,s).join("")}let u=/(\{\s*\w+\s*\})/g;function c(e,t){return a(e,t,u)}let p=({text:e})=>Array.isArray(e)?e.map((e,t)=>(0,i.jsx)(r.Fragment,{children:e},t)):e},67288:(e,t,n)=>{n.d(t,{P:()=>a,Z:()=>i});var r=n(702664);function i(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function a(){let e=(0,r.useSelector)(({experiences:e})=>e);return!!e&&i(e)}},493538:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(760890),i=n(667294),a=n(107860),s=n(906623),o=n(862536);function l({children:e,isAtEndOfFeed:t,pinData:n,itemCount:l,includeBackgroundImages:u=!1,includeVideos:c=!1,includeSections:p=!1}){return o.N5()?.isAuthenticated,(0,r.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:u,includeVideos:c,includeSections:!0}),!function(e){let t=(0,s.E)(),n=(0,i.useRef)(null);(0,i.useEffect)(()=>{e!==n.current&&(n.current=e,t&&(0,a.ZP)(a.at))},[!!t,e])}(l),e}},984571:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(958881);let i=/\{\s*(\w+)\s*\}/g,a=(e,t)=>(0,r.Z)(i,e,t);function s({args:e,format:t}){let n=(e||[]).reduce((e,t,n)=>({...e,[n]:t.text}),{});return a(t,n)}},627408:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(667294),i=n(541841),a=n(901855),s=n(5859),o=n(520893),l=n(503325),u=n(342513);let{Provider:c,useMaybeHook:p}=(0,u.Z)("timeSpentContext");var d=n(822987),m=n(19447),h=n(785893);function f(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.Component{constructor(e){super(e),f(this,"componentWillUnmount",()=>{this.unregisterComponent()}),f(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:n,objectId:r,timeSpentContext:i,view:a,viewParameter:s}=this.props;return{view:a||i?.view,viewParameter:s||i?.viewParameter,component:t||i?.component,element:n,objectId:r||i?.objectId,clientTrackingParams:e||i?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),f(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),f(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0}),f(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),f(this,"getTimedPair",()=>this.state.timedPair),f(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),f(this,"isRegistered",!1),f(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),f(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),f(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:n,left:r,right:i,top:a}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===r&&0===i&&0===a?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new l.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,o.Z)(e.auxData,this.props.auxData)&&(0,o.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e}=this.props;return(0,h.jsx)(c,{value:this.getContext(),children:(0,h.jsx)(i.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:r.Children.only(e)})})}}function y(e){let t=(0,a.Hv)(),n=p(),i=(0,d.w)(),o=(0,m.H0)(),{requestIdentifier:l=""}=(0,s.B)(),u={app_instance_id:l.slice(0,8),...e.auxData??{}};return(0,r.useEffect)(()=>{i?.setHistoryStackContext(t)},[t,i]),(0,r.useEffect)(()=>{i?.setPins(o??{})},[o,i]),i?(0,h.jsx)(g,{...e,auxData:u,timeSpentContext:n,timeSpentManager:i,children:e.children}):e.children}y.displayName="TimeSpent";let b=y},830889:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(702664);let i=[1000069,1000075],a={};function s(){var e;return e=(0,r.useSelector)(({experiences:e})=>e),i.forEach(t=>{e[t]&&(void 0===a[t]||a[t].id!==e[t].id)&&(a[t]=e[t])}),a}},282008:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(883119),i=n(214877),a=n(213377),s=n(666472),o=n(984571),l=n(575742),u=n(818385),c=n(785893);let p=a.yF;function d({contextLogData:e,bubbles:t,id:n,referringSource:a,slotIndex:d,storyType:m,title:h,titleIcon:f,viewType:g,viewParameter:y}){let{logContextEvent:b}=(0,i.v)(),v=t.map(({type:e,id:t})=>e+":"+t).join("|"),x={story_type:m,...e,content_ids:v};return(0,c.jsx)(s.F,{componentType:200,contextLogData:x,impressionType:"Story",loggingId:n,objectIdStr:n,slotIndex:d,viewParameter:y,viewType:g,children:({impressionTrackerRef:e})=>(0,c.jsxs)(r.xu,{ref:e,children:[h&&(0,c.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:["number"==typeof f&&f!==l.J&&(0,c.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,c.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:(0,l.Z)(f),size:14})}),(0,c.jsx)(r.xv,{weight:"bold",children:(0,o.Z)(h)})]}),t.map((e,t)=>(0,c.jsx)(r.xu,{flex:"none",paddingY:1,children:(0,c.jsx)(u.Z,{bubble:e,contextLogData:x,height:103,onClick:e=>{b({event_type:101,object_id_str:e,view_type:g,view_parameter:y,component:200,aux_data:x})},referringSource:a,slotIndex:t,storyId:n,viewParameter:y,viewType:g,width:p})},`bubble-${e.id}`))]})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/4057-ff5cb49a68403621.mjs.map